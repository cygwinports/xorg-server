---
 configure.ac              |    1 
 hw/xwin/Makefile.am       |    2 -
 hw/xwin/XWin.exe.manifest |   16 +++++++++++++++
 hw/xwin/XWin.rc           |   50 +++++++++++++++++++++++------------------------
 hw/xwin/windialogs.c      |    6 ++---
 include/xwin-config.h.in  |    3 ++
 6 files changed, 49 insertions(+), 29 deletions(-)

--- origsrc/xorg-server-1.7.0.901/configure.ac	2009-10-13 22:37:55.770162700 -0500
+++ src/xorg-server-1.7.0.901/configure.ac	2009-10-13 22:44:57.889098900 -0500
@@ -1710,6 +1710,7 @@ AC_MSG_RESULT([$XWIN])
 if test "x$XWIN" = xyes; then
 	PKG_CHECK_EXISTS($WINDOWSWMPROTO, [WINDOWSWM=yes], [WINDOWSWM=no])
 	AC_DEFINE_UNQUOTED(XORG_VERSION_CURRENT, [$VENDOR_RELEASE], [Current Xorg version])
+	AC_DEFINE_UNQUOTED(__VENDORDWEBSUPPORT__, ["$VENDOR_WEB"], [Vendor web address for support])
 	AC_CHECK_TOOL(WINDRES, windres)
 	case $host_os in
 		cygwin*)
--- origsrc/xorg-server-1.7.0.901/hw/xwin/Makefile.am	2009-10-13 22:37:52.135356400 -0500
+++ src/xorg-server-1.7.0.901/hw/xwin/Makefile.am	2009-10-13 22:44:39.371866600 -0500
@@ -151,7 +151,7 @@ XWin_DEPENDENCIES = $(XWIN_LIBS)
 XWin_LDADD = $(MULTIWINDOWEXTWM_LIBS) $(XWIN_LIBS) $(MAIN_LIB) $(XSERVER_LIBS) $(XSERVER_SYS_LIBS) $(XWIN_SYS_LIBS)
 
 .rc.o:
-	$(WINDRES) --use-temp-file -i $< --input-format=rc -o $@ -O coff -DPROJECT_NAME=\"$(VENDOR_NAME_SHORT)\"
+	$(WINDRES) --use-temp-file -i $< --input-format=rc -o $@ -O coff -I $(top_builddir)/include -DPROJECT_NAME=\"$(VENDOR_NAME_SHORT)\"
 
 XWin_LDFLAGS = -mwindows
 
--- origsrc/xorg-server-1.7.0.901/hw/xwin/XWin.exe.manifest	1969-12-31 18:00:00.000000000 -0600
+++ src/xorg-server-1.7.0.901/hw/xwin/XWin.exe.manifest	2009-10-13 22:44:57.873498900 -0500
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
+<assembly xmlns="urn:schemas-microsoft-com:asm.v1" manifestVersion="1.0">
+	<description>The XWin X Windows server for Cygwin.</description>
+	<dependency>
+	   <dependentAssembly>
+	     <assemblyIdentity
+	       type="win32"
+	       name="Microsoft.Windows.Common-Controls"
+	       version="6.0.0.0"
+	       processorArchitecture="X86"
+	       publicKeyToken="6595b64144ccf1df"
+	       language="*"
+	     />
+	   </dependentAssembly>
+	</dependency>
+</assembly>
--- origsrc/xorg-server-1.7.1/hw/xwin/XWin.rc
+++ src/xorg-server-1.7.1/hw/xwin/XWin.rc
@@ -1,5 +1,6 @@
 /*
  *Copyright (C) 2002-2004 Harold L Hunt II All Rights Reserved.
+ *Copyright (C) 2008 Yaakov Selkowitz All Rights Reserved
  *
  *Permission is hereby granted, free of charge, to any person obtaining
  * a copy of this software and associated documentation files (the
@@ -20,47 +21,45 @@
  *CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
  *WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  *
- *Except as contained in this notice, the name of Harold L Hunt II
+ *Except as contained in this notice, the names of the authors
  *shall not be used in advertising or otherwise to promote the sale, use
  *or other dealings in this Software without prior written authorization
- *from Harold L Hunt II.
+ *from the authors.
  *
- * Authors:	Harold L Hunt II
+ * Authors:	Harold L Hunt II, Yaakov Selkowitz
  */
 
-#include "windows.h"
+#include <windows.h>
 #include "winresource.h"
+#include "xwin-config.h"
+#include "version-config.h"
 
 /*
  * Dialogs
  */
 
 /* About */
-ABOUT_BOX DIALOGEX 32, 32, 240, 105
+ABOUT_BOX DIALOGEX 32, 32, 260, 105
 STYLE WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_VISIBLE | WS_TABSTOP  | DS_CENTERMOUSE
 CAPTION "About " PROJECT_NAME
-FONT 8, "MS Sans Serif"
+FONT 8, "MS Shell Dlg 2"
 BEGIN
-  CONTROL               PROJECT_NAME " Website", ID_ABOUT_WEBSITE, "Button",
-                        BS_OWNERDRAW | WS_TABSTOP, 30, 45, 75, 15
-  CONTROL               "Change Log", ID_ABOUT_CHANGELOG, "Button",
-                        BS_OWNERDRAW | WS_TABSTOP, 135, 45, 75, 15
-  CONTROL               "User's Guide", ID_ABOUT_UG, "Button",
-                        BS_OWNERDRAW | WS_TABSTOP, 30, 65, 75, 15
-  CONTROL               "FAQ", ID_ABOUT_FAQ, "Button",
-                        BS_OWNERDRAW | WS_TABSTOP, 135, 65, 75, 15
-
-  DEFPUSHBUTTON		"&OK", IDOK, 95, 85, 50, 15
-
-  CTEXT			PROJECT_NAME " X Server.  Use the links below to learn more about the " PROJECT_NAME " project.", IDC_STATIC, 5, 5, 230, 35
+  CONTROL				IDI_XWIN, IDC_STATIC, "Static", SS_ICON, 8, 8, 32, 32
+  LTEXT			PROJECT_NAME " X Server ", IDC_STATIC, 36, 8, 220, 8
+  LTEXT			VENDOR_MAN_VERSION, IDC_STATIC, 36, 18, 220, 8
+  LTEXT			BUILDERSTRING, IDC_STATIC, 36, 28, 220, 8
+  LTEXT			"This product is licensed under the terms of the MIT/X11 License.", IDC_STATIC, 36, 48, 220, 20
+  CONTROL               __VENDORDWEBSUPPORT__, ID_ABOUT_WEBSITE, "Button",
+                        BS_OWNERDRAW | WS_TABSTOP, 36, 68, 68, 8
+  DEFPUSHBUTTON		"&OK", IDOK, 105, 85, 50, 15
 END
 
 
 /* Depth change */
 
-DEPTH_CHANGE_BOX DIALOGEX 32, 32, 180, 100
+DEPTH_CHANGE_BOX DIALOGEX 32, 32, 180, 100
 STYLE WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_VISIBLE | DS_CENTERMOUSE
-FONT 8, "MS Sans Serif"
+FONT 8, "MS Shell Dlg 2"
 CAPTION PROJECT_NAME
 BEGIN
   DEFPUSHBUTTON		"Dismiss", IDOK, 66, 80, 50, 14
@@ -72,9 +69,9 @@ END
 
 /* Exit */
 
-EXIT_DIALOG DIALOGEX 32, 32, 180, 78
+EXIT_DIALOG DIALOGEX 32, 32, 180, 78
 STYLE WS_POPUP | WS_CAPTION | WS_SYSMENU | WS_VISIBLE | WS_TABSTOP | DS_CENTERMOUSE
-FONT 8, "MS Sans Serif"
+FONT 8, "MS Shell Dlg 2"
 CAPTION "Exit " PROJECT_NAME "?"
 BEGIN
   PUSHBUTTON "E&xit", IDOK, 55, 56, 30, 14
@@ -96,7 +96,7 @@ END
 		MENUITEM "&Hide Root Window", ID_APP_HIDE_ROOT
 		MENUITEM "&About...", ID_APP_ABOUT
 		MENUITEM SEPARATOR
-		MENUITEM "E&xit", ID_APP_EXIT
+		MENUITEM "E&xit...", ID_APP_EXIT
 	END
 END
 
@@ -106,3 +104,4 @@ END
  */
 
 IDI_XWIN		ICON	"X.ico"
+CREATEPROCESS_MANIFEST_RESOURCE_ID	RT_MANIFEST	"XWin.exe.manifest"
--- origsrc/xorg-server-1.7.0.901/hw/xwin/windialogs.c	2009-08-10 23:00:25.000000000 -0500
+++ src/xorg-server-1.7.0.901/hw/xwin/windialogs.c	2009-10-13 22:44:57.873498900 -0500
@@ -116,8 +116,8 @@ winDrawURLWindow (LPARAM lParam)
     crText = RGB(0,0,128+64);
   SetTextColor (draw->hDC, crText);
   
-  /* Create underlined font 14 high, standard dialog font */
-  font = CreateFont (-14, 0, 0, 0, FW_NORMAL, FALSE, TRUE, FALSE,
+  /* Create font 8 high, standard dialog font */
+  font = CreateFont (-8, 0, 0, 0, FW_DONTCARE, FALSE, FALSE, FALSE,
 		     0, 0, 0, 0, 0, "MS Sans Serif");
   if (!font)
     {
@@ -702,7 +702,7 @@ winAboutDlgProc (HWND hwndDialog, UINT m
 
 	case ID_ABOUT_WEBSITE:
 	  {
-	    const char *	pszPath = "http://x.cygwin.com/";
+	    const char *	pszPath = __VENDORDWEBSUPPORT__;
 	    int			iReturn;
 	    
 	    iReturn = ShellExecute (NULL,
--- origsrc/xorg-server-1.7.0.901/include/xwin-config.h.in	2008-04-16 01:14:19.000000000 -0500
+++ src/xorg-server-1.7.0.901/include/xwin-config.h.in	2009-10-13 22:44:57.889098900 -0500
@@ -22,3 +22,6 @@
 
 /* Do we require our own snprintf? */
 #undef NEED_SNPRINTF
+
+/* Vendor web address for support */
+#undef __VENDORDWEBSUPPORT__
\ No newline at end of file
