TODO: install system.XWinrc via hw/xwin/Makefile.am

---
 configure.ac                             |    1 +
 hw/xwin/_usr_X11R6_lib_X11_system.XWinrc |    2 +-
 hw/xwin/winprefs.c                       |    4 ++--
 3 files changed, 4 insertions(+), 3 deletions(-)

--- origsrc/xorg-server-1.7.0.901/configure.ac	2009-10-13 22:55:51.999239500 -0500
+++ src/xorg-server-1.7.0.901/configure.ac	2009-10-13 23:00:38.587339200 -0500
@@ -1709,6 +1709,7 @@ AC_MSG_RESULT([$XWIN])
 
 if test "x$XWIN" = xyes; then
 	PKG_CHECK_EXISTS($WINDOWSWMPROTO, [WINDOWSWM=yes], [WINDOWSWM=no])
+	AC_DEFINE_DIR(SYSCONFDIR, sysconfdir, [Location of system.XWinrc])
 	AC_DEFINE_DIR(DEFAULT_LOGDIR, logdir, [Default log location])
 	AC_DEFINE_UNQUOTED(XORG_VERSION_CURRENT, [$VENDOR_RELEASE], [Current Xorg version])
 	AC_DEFINE_UNQUOTED(__VENDORDWEBSUPPORT__, ["$VENDOR_WEB"], [Vendor web address for support])
--- origsrc/xorg-server-1.7.0.901/hw/xwin/_usr_X11R6_lib_X11_system.XWinrc	2008-04-16 01:14:18.000000000 -0500
+++ src/xorg-server-1.7.0.901/hw/xwin/_usr_X11R6_lib_X11_system.XWinrc	2009-10-13 23:01:05.668986400 -0500
@@ -1,7 +1,7 @@
 # XWin Server Resource File - EXAMPLE
 # Earle F. Philhower, III
 
-# Place in ~/.XWinrc or in /usr/X11R6/lib/X11/system.XWinrc
+# Place in ~/.XWinrc or in /etc/X11/system.XWinrc
 
 # Keywords are case insensitive, comments legal pretty much anywhere
 # you can have an end-of-line
--- origsrc/xorg-server-1.7.0.901/hw/xwin/winprefs.c	2009-08-10 23:00:25.000000000 -0500
+++ src/xorg-server-1.7.0.901/hw/xwin/winprefs.c	2009-10-13 23:01:05.684586400 -0500
@@ -723,7 +723,7 @@ winIconIsOverride(unsigned hiconIn)
 
 
 /*
- * Try and open ~/.XWinrc and /usr/X11R6/lib/X11/system.XWinrc
+ * Try and open ~/.XWinrc and system.XWinrc
  * Load it into prefs structure for use by other functions
  */
 void
@@ -763,7 +763,7 @@ LoadPreferences (void)
 #ifdef RELOCATE_PROJECTROOT
       snprintf(buffer, sizeof(buffer), "%s\\system.XWinrc", winGetBaseDir());
 #else
-      strncpy(buffer, PROJECTROOT"/lib/X11/system.XWinrc", sizeof(buffer));
+      strncpy(buffer, SYSCONFDIR"/X11/system.XWinrc", sizeof(buffer));
 #endif
       buffer[sizeof(buffer)-1] = 0;
       prefFile = fopen (buffer, "r");
--- origsrc/xorg-server-1.7.0.901/include/xwin-config.h.in	2009-10-14 00:03:33.193291100 -0500
+++ src/xorg-server-1.7.0.901/include/xwin-config.h.in	2009-10-14 01:00:38.852419200 -0500
@@ -28,3 +28,7 @@
 
 /* Default log location */
 #undef DEFAULT_LOGDIR
+
+/* Location of system.XWinrc */
+#undef SYSCONFDIR
+
